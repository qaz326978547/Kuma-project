import{d as u}from"./dataList-dcdf3f01.js";import{_ as C,F as k,r as h,o,c as l,a as d,b as e,w as L,t as m,d as f,n as p,e as v,f as x,g as b,h as w}from"./index-f922886f.js";import{N as D}from"./NavComponent-63a7b39f.js";const P={props:{dataList:{type:Object,default(){return{}}}},data(){return{imgs:"",visible:!1,index:0,mouseEvent:!1}},components:{VueEasyLightbox:k},methods:{showSingle(){this.imgs="http://via.placeholder.com/350x150",this.show()},show(){this.visible=!0},handleHide(){this.visible=!1}}},I={class:"col-12 col-sm-6 col-md-4 col-xl-3"},N={class:"img-container"},S=["src"],V=e("div",{class:"overlay"},null,-1),j={class:"link d-flex"},B={class:"text-dark my-1 fw-bold"},E={class:""},F={class:"ellipsis"};function H(i,s,t,r,a,c){const n=h("vue-easy-lightbox"),_=h("font-awesome-icon"),y=h("router-link");return o(),l(f,null,[d(n,{visible:a.visible,imgs:t.dataList.imageUrl,index:a.index,onHide:c.handleHide},null,8,["visible","imgs","index","onHide"]),e("div",I,[e("div",N,[e("img",{class:"image",src:t.dataList.imageUrl,style:{width:"100%"},alt:""},null,8,S),V,e("div",j,[d(y,{class:"text-white",to:`portfolio/${t.dataList.id}`},{default:L(()=>[d(_,{class:"icon p-3 mx-2",icon:"fa-solid fa-link"})]),_:1},8,["to"]),d(_,{onClick:c.showSingle,class:"icon p-3 mx-2",icon:"fa-solid fa-magnifying-glass-plus"},null,8,["onClick"])])]),d(y,{class:"text-dark",to:`portfolio/${t.dataList.id}`},{default:L(()=>[e("p",B,m(t.dataList.id),1),e("h3",E,m(t.dataList.title),1),e("p",F,m(t.dataList.content),1)]),_:1},8,["to"])])],64)}const M=C(P,[["render",H]]),O={props:{pagination:{type:Object,default(){return{}}},changePage:{type:Function,default(){return Function}}}},U={key:0,"aria-label":"Page navigation example"},z={class:"pagination"},T=["onClick"];function q(i,s,t,r,a,c){return t.pagination.total_pages>=2?(o(),l("nav",U,[e("ul",z,[e("li",{class:p(["page-item",{disabled:!t.pagination.has_pre}])},[e("a",{class:"page-link",href:"#",onClick:s[0]||(s[0]=v(n=>t.changePage(t.pagination.current_page-1),["prevent"]))},"Previous")],2),(o(!0),l(f,null,x(t.pagination.total_pages,n=>(o(),l("li",{class:p(["page-item",{active:n===t.pagination.current_page}])},[(o(),l("a",{class:p(["page-link",{"text-white":n===t.pagination.current_page,"bg-secondary":n===t.pagination.current_page}]),href:"#",onClick:v(_=>t.changePage(n),["prevent"]),key:n+"page"},m(n),11,T))],2))),256)),e("li",{class:p(["page-item",{disabled:!t.pagination.has_next}])},[e("a",{class:"page-link",onClick:s[1]||(s[1]=v(n=>t.changePage(t.pagination.current_page+1),["prevent"])),href:"#"},"Next")],2)])])):b("",!0)}const A=C(O,[["render",q]]),G={data(){return{dataList:{},filterDataList:[],categorys:[],currentCategory:"",currentCategoryId:0,pagination:{current_page:1,total_pages:2,has_next:!0,has_pre:!1}}},components:{NavComponent:D,CategoryProduct:M,PaginationComponent:A},methods:{getDataCategorys(){this.categorys=u.categoryList},changeCategory(i="all",s=0){this.currentCategory=i,this.currentCategoryId=s,this.getfilterDataList()},getfilterDataList(){const s=(this.pagination.current_page-1)*6,t=this.pagination.current_page*6;if(this.currentCategory=="all"){this.filterDataList=[];const a=[];for(var r=s;r<t&&!(r>=u.data.length);r++)a.push(u.data[r]);this.filterDataList=a,this.getPagination()}else{this.filterDataList=[];const a=u.data.filter(c=>c.category==this.currentCategory);this.filterDataList=a}this.getPagination()},getPagination(){if(this.currentCategory=="all"){const i=Math.ceil(u.data.length/6);this.pagination.total_pages=i}else{const i=Math.ceil(this.filterDataList.length/6);this.pagination.total_pages=i}},changePage(i=1){this.pagination.current_page=i,this.pagination.current_page<this.pagination.total_pages?(this.pagination.has_next=!0,this.pagination.has_pre=!1,this.getfilterDataList()):(this.pagination.has_next=!1,this.pagination.has_pre=!0,this.getfilterDataList()),scrollTo(0,0)}},mounted(){this.getDataCategorys(),this.changeCategory()}},J={class:"px-0 d-flex justify-content-center mb-5"},K=["onClick"],Q={class:"container"},R={class:"row gy-3 gx-3"};function W(i,s,t,r,a,c){const n=h("nav-component"),_=h("category-product"),y=h("pagination-component");return o(),l(f,null,[d(n),e("ul",J,[(o(!0),l(f,null,x(a.categorys,g=>(o(),l("li",{class:"nav-item px-2",key:g.id},[e("a",{class:p(["nav-link pb-2 category",{active:a.currentCategoryId===g.id}]),href:"#",onClick:v(X=>c.changeCategory(g.name,g.id),["prevent"])},m(g.name),11,K)]))),128))]),e("section",Q,[e("div",R,[(o(!0),l(f,null,x(a.filterDataList,g=>(o(),w(_,{dataList:g},null,8,["dataList"]))),256))]),d(y,{pagination:a.pagination,"change-page":c.changePage,class:"d-flex justify-content-center mt-5"},null,8,["pagination","change-page"])])],64)}const tt=C(G,[["render",W]]);export{tt as default};
